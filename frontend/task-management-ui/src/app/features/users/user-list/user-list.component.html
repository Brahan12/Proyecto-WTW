<div class="d-flex justify-content-between align-items-center mb-3">
  <h2 class="mb-0">Listado de Usuarios</h2>

  <a class="btn btn-primary" routerLink="/users/create">
    + Crear Usuario
  </a>
</div>

<div class="card shadow-sm">
  <div class="card-body">

    <table class="table table-striped table-hover">
      <thead>
        <tr>
          <th>Nombre</th>
          <th>Email</th>
          <th>Creación</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let u of paginatedUsers; trackBy: trackById">
          <td>{{ u.fullName }}</td>
          <td>{{ u.email }}</td>
          <td>{{ u.createDate | date:'short' }}</td>
        </tr>

        <tr *ngIf="paginatedUsers.length === 0">
          <td colspan="3" class="text-center text-muted">
            No hay usuarios registrados.
          </td>
        </tr>
      </tbody>
    </table>

    <!-- PAGINACIÓN -->
    <nav *ngIf="totalPages() > 1">
      <ul class="pagination justify-content-center">

        <li class="page-item" [class.disabled]="page === 1">
          <button class="page-link" (click)="goToPage(page - 1)">Anterior</button>
        </li>

        <li class="page-item"
            *ngFor="let p of pagesArray()"
            [class.active]="p === page">
          <button class="page-link" (click)="goToPage(p)">
            {{ p }}
          </button>
        </li>

        <li class="page-item" [class.disabled]="page === totalPages()">
          <button class="page-link" (click)="goToPage(page + 1)">Siguiente</button>
        </li>

      </ul>
    </nav>

  </div>
</div>
